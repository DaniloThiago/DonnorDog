<!DOCTYPE html>
<html>
  <head>
    <title>
      Cadastro do Pet
    </title>
    <meta content="text/html; charset=utf-8" hhttp-equiv="Content-Type"/>
    <link href="app.css" rel="stylesheet" type="text/css"/>
    <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet"/>
    <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css" rel="stylesheet" type="text/css"/>
    <link href="css/style.css" rel="stylesheet" type="text/css"/>
    <script src="https://www.gstatic.com/firebasejs/3.7.3/firebase.js">
    </script>
    <script src="js/app.js" type="text/javascript">
    </script>
  </head>
</html>
<body>
  <header class="header" id="header_bar">
    <div id="header-inner">
      <a href="#about" id="logo-donnordog">
      </a>
      <nav>
        <a id="menu-icon">
          <i aria-hidden="true" class="fa fa-bars hidden-sm hidden-md hidden-lg">
          </i>
        </a>
        <ul>
          <li>
            <a class="slide-section" href="./">
              HOME
            </a>
          </li>
          <li>
            <a class="slide-section" href="./authentication.html" id="goin">
              ENTRAR
            </a>
          </li>
          <li><button type="button" class="btn btn-danger" style="margin-top: -4px;" id="logOutButton">SAIR</button></li>
        </ul>
      </nav>
    </div>
  </header>
  <section id="section-post">
  
    <div class="col-xs-12 center-block">
    	<br/>
      <p>
        <h3>Cadastre seu animal e seja mais um a ajudar a quem precisa.<br/>Abrace essa causa.</h3>
      </p>
      <br/>
    	<div style="width: 300px; display: inline-block;">
	    	<label class="text-left col-xs-12" style="text-align: center; margin-left: 10px;" for="previa">
	        <h4>Prévia</h4>
	      </label>
	      <br/>
	      <br/>
        <article id="previa" class="material-card Red">
          <h2>
            <span id="nomePet">
            </span>
            <strong>
              <i class="fa fa-fw ">
              </i>
              <span id="racaPet"></span>
            </strong>
          </h2>
          <div class="mc-content">
            <div class="img-container">
              <img id="imgPet" class="img-responsive" src="../img/animais.jpg"/>
            </div>
            <div id="descricaoPet" class="mc-description">
              
            </div>
          </div>
          <a id="btn" class="mc-btn-action">
            <i id="icon" class="fa fa-bars" onclick="handleClickIcon()">
            </i>
          </a>
          <div class="mc-footer">
            <h4>
              Social
            </h4>
            <a class="fa fa-fw fa-instagram hidden"></a>
            <a class="fa fa-fw fa-facebook hidden"></a>
            <a class="fa fa-fw fa-phone hidden"></a>
            <a class="fa fa-fw fa-envelope hidden"></a>
          </div>
        </article>
      </div>
      <form action="http://formspree.io/adm.donnordog@gmail.com" class="contato-form" method="post">
        <div class="row">
          <div class="form-group col-xs-12">
            <label class="text-left col-xs-12" for="imageInput">
              Endereço da imagem
            </label>
            <input class="form-control" id="imageInput" name="Foto" placeholder="Insira a URL aqui..." required="" type="text">
            </input>
          </div>
          <div class="form-group col-xs-12">
            <label class="text-left col-xs-12" for="nameInput">
              Nome
            </label>
            <input class="form-control" id="nameInput" name="Nome:" placeholder="Nome do dog/cat" required="" type="text">
            </input>
          </div>
          <div class="form-group col-xs-12">
            <label class="text-left col-xs-12" for="racaInput">
              Raça
            </label>
            <input class="form-control" id="racaInput" name="Raça" placeholder="Raça do dog/cat" required="" type="text">
            </input>
          </div>
          <div class="form-group col-xs-12">
            <label class="text-left col-xs-12" for="sexoInput">
              Sexo
            </label>
            <select class="form-control" id="sexoInput" name="Sexo" required="">
              <option>
              </option>
              <option>
                Macho
              </option>
              <option>
                Fêmea
              </option>
            </select>
          </div>
          <div class="form-group col-xs-12">
            <label class="text-left col-xs-12" for="urgencyInput">
              Necessidade
            </label>
            <select class="form-control" id="urgencyInput" name="Gênero" required="">
              <option>
                Doador
              </option>
              <option value="Blue">
                Não urgência
              </option>
              <option value="Green">
                Semi-urgência
              </option>
              <option value="Yellow">
                Urgência
              </option>
              <option value="Red">
                Emergência
              </option>
            </select>
          </div>
          <div class="form-group col-xs-12">
            <label class="text-left col-xs-12" for="msgInput">
              Mensagem
            </label>
            <input class="form-control" id="msgInput" name="Mensagem" placeholder="Esceva sua mensagem aqui..." required="" type="text">
            </input>
          </div>
        </div>
        <label class="text-left col-xs-12">
          Contatos
        </label>
        <div class="input-group col-xs-12" style="margin-bottom: 10px; float: right !important">
          <div class="input-group-addon">
            <i aria-hidden="true" class="fa fa-instagram" style="width: 20px;">
            </i>
          </div>          
          <input class="form-control" id="instagramInput" name="Instagram" placeholder="Instagram" type="text">
          </input>
        </div>
        <div class="input-group col-xs-12" style="margin-bottom: 10px; float: right !important">
          <div class="input-group-addon">
            <i aria-hidden="true" class="fa fa-facebook" style="width: 20px;">
            </i>
          </div>
          <input class="form-control" id="facebookInput" name="Facebook" placeholder="Facebook" type="text">
          </input>
        </div>
        <div class="input-group col-xs-12" style="margin-bottom: 10px; float: right !important">
          <div class="input-group-addon">
            <i aria-hidden="true" class="fa fa-phone" style="width: 20px;">
            </i>
          </div>
          <input class="form-control" id="telefoneInput" name="Telefone" placeholder="Telefone" type="text">
          </input>
        </div>
        <div class="input-group col-xs-12" style="margin-bottom: 10px; float: right !important">
          <div class="input-group-addon">
            <i aria-hidden="true" class="fa fa-envelope" style="width: 20px;">
            </i>
          </div>
          <input class="form-control" id="emailInput" name="Email" placeholder="E-mail" type="text">
          </input>
        </div>
        <button class="btn btn-lg btn-primary col-xs-6 col-xs-offset-3" type="submit" value="Send">
          Enviar
        </button>
        <div id="msgForm">
        </div>
      </form>
      
    </div>
  </section>
  <script src="https://code.jquery.com/jquery-2.2.4.min.js" type="text/javascript">
  </script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" type="text/javascript">
  </script>
  <script src="js/real-time-database.js">
  </script>
  <script type="text/javascript">
    // window.onscroll = fadeNav;
		document.getElementById("imageInput").addEventListener("change", changeImage);
		function changeImage() {
			document.getElementById("imgPet").setAttribute('src', document.getElementById("imageInput").value);
		}
		document.getElementById("facebookInput").addEventListener("change", changeFacebook);
		function changeFacebook(e) {
				$(".fa-facebook.hidden")
				.attr({href: e.target.value})
				.removeClass("hidden");
		}
		document.getElementById("instagramInput").addEventListener("change", changeInstagram);
		function changeInstagram(e) {
			$(".fa-instagram.hidden")
			.attr({href: e.target.value})
			.removeClass("hidden");
		}
		document.getElementById("telefoneInput").addEventListener("change", changePhone);
		function changePhone(e) {
			$(".fa-phone.hidden")
			.attr({href: e.target.value})
			.removeClass("hidden");
		}
		document.getElementById("emailInput").addEventListener("change", changeEmail);
		function changeEmail(e) {
			$(".fa-envelope.hidden")
			.attr({href: e.target.value})
			.removeClass("hidden");
		}

		$('#btn').on('click',handleClickBtn);
		$('#icon').on('click',handleClickIcon);

		function handleClickBtn(event) {
			event.preventDefault()
			var el = event.target
			var card = $(el).parent('.material-card');
			var icon = $(el).children('i');
			icon.addClass('fa-spin-fast');
			if (card.hasClass('mc-active')) {
			  card.removeClass('mc-active');
			  window.setTimeout(function() {
			    icon.removeClass('fa-arrow-left').removeClass('fa-spin-fast').addClass('fa-bars');
			  }, 800);
			} else {
			  card.addClass('mc-active');
			  window.setTimeout(function() {
			    icon.removeClass('fa-bars').removeClass('fa-spin-fast').addClass('fa-arrow-left');
			  }, 800);
			}
		}

		function handleClickIcon(event) {
			event.preventDefault()
			var el = event.target
			var card = $(el).closest('.material-card');
			var icon = $(el).children('i');
			$(el).addClass('fa-spin-fast');
			if (card.hasClass('mc-active')) {
			  card.removeClass('mc-active');
			  window.setTimeout(function() {
			    $(el).removeClass('fa-arrow-left').removeClass('fa-spin-fast').addClass('fa-bars');
			  }, 800);
			} else {
			  card.addClass('mc-active');
			  window.setTimeout(function() {
			    $(el).removeClass('fa-bars').removeClass('fa-spin-fast').addClass('fa-arrow-left');
			  }, 800);
			}
		}

  	var $contactForm = $('.contact-form');  

		$contactForm.submit(function(e) {
	    e.preventDefault();
	    console.log('enviando...')
	    $.ajax({
	      url: 'https://formspree.io/adm.donnordog@gmail.com',
	      type: 'POST',
	      data: $(this).serialize(),
	      dataType: 'json',
	      beforeSend: function() {
	        $contactForm.find('#msgForm').html('<div class="alert alert-info">Enviando mensagem</div>');
	        $contactForm[0].reset();
	      },
	      success: function(data) {
	        $contactForm.find('.alert-info').html('<div class="alert alert-success">Mensagem enviada!</div>').removeClass('alert alert-info');
	      },
	      error: function(err) {
	        $contactForm.find('.alert-info').html('<div class="alert alert-danger">Ocorreu um erro ao enviar sua mensagem, tente novamente mais tarde.</div>').removeClass('alert alert-info');
	      }
	    });
	  });
  </script>
</body>
